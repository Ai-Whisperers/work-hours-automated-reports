# ============================================================================
# ENVIRONMENT CONFIGURATION
# ============================================================================
# This file contains all environment variables for local development.
# Copy this file to .env and fill in your actual values.
# NEVER commit .env file with real credentials to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Application Environment
# Used by: Local development, Docker, CI/CD
# ----------------------------------------------------------------------------
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=false  # Enable debug mode (shows detailed errors)

# ----------------------------------------------------------------------------
# Clockify Configuration
# REQUIRED - Get your API key from: https://app.clockify.me/user/settings
# Used by: All environments (local, CI/CD, production)
# ----------------------------------------------------------------------------
CLOCKIFY_API_KEY=your_clockify_api_key_here
CLOCKIFY_WORKSPACE_ID=your_workspace_id_here
CLOCKIFY_BASE_URL=https://api.clockify.me/api/v1
CLOCKIFY_TIMEOUT=30  # API request timeout in seconds
CLOCKIFY_MAX_RETRIES=3  # Number of retry attempts for failed requests
CLOCKIFY_DEFAULT_PROJECT_ID=  # Optional: default project for auto-tracked entries

# ----------------------------------------------------------------------------
# Azure DevOps Configuration
# REQUIRED FOR REPORTS - Get PAT from: https://dev.azure.com/_usersSettings/tokens
# Used by: Report generation workflows only (NOT required for commit tracking)
# Note: These are optional if you only use the commit tracker
# ----------------------------------------------------------------------------
ADO_ORG=your_organization_name  # Your ADO organization (from URL)
ADO_PROJECT=your_project_name  # Your ADO project name
ADO_PAT=your_personal_access_token_here  # Personal Access Token
ADO_BASE_URL=https://dev.azure.com
ADO_API_VERSION=7.0  # Azure DevOps API version
ADO_TIMEOUT=30  # API request timeout in seconds
ADO_MAX_RETRIES=3  # Number of retry attempts
ADO_BATCH_SIZE=200  # Batch size for bulk operations

# ----------------------------------------------------------------------------
# Cache Configuration
# Used by: All environments
# ----------------------------------------------------------------------------
CACHE_BACKEND=local  # Options: local, redis, memory
CACHE_TTL=3600  # Cache time-to-live in seconds (1 hour)
CACHE_DIRECTORY=.cache  # Directory for local cache files

# ----------------------------------------------------------------------------
# Redis Configuration
# OPTIONAL - Only required if CACHE_BACKEND=redis
# Used by: Production environments with Redis
# ----------------------------------------------------------------------------
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
# REDIS_KEY_PREFIX=clockify_ado:

# ----------------------------------------------------------------------------
# Logging Configuration
# Used by: All environments
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=logs/app.log  # Path to log file
LOG_TO_CONSOLE=true  # Output logs to console
LOG_TO_FILE=true  # Write logs to file

# ----------------------------------------------------------------------------
# Report Configuration
# Used by: Local development, scheduled reports
# ----------------------------------------------------------------------------
OUTPUT_FORMAT=excel  # Options: excel, html, json, pdf
REPORT_TEMPLATE_DIR=templates  # Directory for report templates
REPORT_OUTPUT_DIR=reports  # Directory for generated reports

# ----------------------------------------------------------------------------
# Performance Configuration
# Used by: All environments
# Note: These are used in GitHub Actions workflows for rate limiting
# ----------------------------------------------------------------------------
MAX_CONCURRENT_REQUESTS=5  # Maximum concurrent API requests
REQUEST_TIMEOUT=60  # Default timeout for HTTP requests in seconds

# ----------------------------------------------------------------------------
# Feature Flags
# Used by: All environments
# Note: These control feature availability across all deployments
# ----------------------------------------------------------------------------
ENABLE_CACHING=true  # Enable response caching
ENABLE_FUZZY_MATCHING=true  # Enable fuzzy work item matching
ENABLE_NOTIFICATIONS=false  # Enable email notifications
ENABLE_METRICS=true  # Enable metrics collection

# ----------------------------------------------------------------------------
# Email Notifications
# OPTIONAL - Only required if ENABLE_NOTIFICATIONS=true
# Used by: Production environments, GitHub Actions
# ----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_USE_TLS=true
# NOTIFICATION_FROM=reports@example.com
# NOTIFICATION_RECIPIENTS=team@example.com,manager@example.com

# ============================================================================
# ACTIVITY TRACKER CONFIGURATION (LOCAL ONLY)
# ============================================================================
# These settings are for the local activity tracker (tracker.py)
# NOT used in GitHub Actions (requires desktop environment)
# ============================================================================

# ----------------------------------------------------------------------------
# Activity Monitoring
# Automatically starts/stops Clockify timers based on mouse/keyboard activity
# ----------------------------------------------------------------------------
ENABLE_ACTIVITY_TRACKER=false  # Enable automatic time tracking
ACTIVITY_TRACKER_INACTIVITY_LIMIT=300  # Seconds before stopping timer (5 min)
ACTIVITY_TRACKER_CHECK_INTERVAL=5  # Seconds between activity checks

# ----------------------------------------------------------------------------
# GitHub Commit Tracker
# Automatically creates Clockify entries for GitHub commits
# Used by: Local tracker.py and GitHub Actions workflows
# Note: Variables renamed to avoid GitHub Actions reserved namespace (GITHUB_*)
# Supports two modes: user (individual) or organization (all repos in org)
# ----------------------------------------------------------------------------
ENABLE_GITHUB_TRACKER=false  # Enable commit tracking
COMMIT_TRACKER_MODE=user  # Options: user (individual) or org (organization)
COMMIT_TRACKER_USERNAME=  # GitHub username (for user mode)
COMMIT_TRACKER_ORG=  # GitHub organization name (for org mode)
COMMIT_TRACKER_TOKEN=  # GitHub PAT (required for org mode, recommended for user mode)
COMMIT_TRACKER_POLL_INTERVAL=60  # Seconds between API polls (real-time mode)
COMMIT_TRACKER_DURATION=10  # Minutes assigned per commit entry (legacy mode)
COMMIT_TRACKER_USE_WORKED_HOURS=true  # Use cluster-based worked hours calculation
COMMIT_TRACKER_TIMEZONE=America/Asuncion  # Timezone for worked hours calculation

# Date Range Configuration (for historical commit fetching)
COMMIT_HISTORY_DAYS=7  # Number of days to fetch historical commits (default: 7)
COMMIT_START_DATE=  # Optional: specific start date (YYYY-MM-DD), overrides COMMIT_HISTORY_DAYS
COMMIT_END_DATE=  # Optional: specific end date (YYYY-MM-DD), defaults to today

# ============================================================================
# GITHUB ACTIONS SPECIFIC CONFIGURATION
# ============================================================================
# These variables are primarily used in GitHub Actions workflows.
# For GitHub Actions, set these as Repository Secrets instead of .env
# See: Settings → Secrets and variables → Actions
# Documentation: docs/github-secrets-setup.md
# ============================================================================

# ----------------------------------------------------------------------------
# GitHub Actions - Activity Tracker Deployment
# Used by: .github/workflows/activity-tracker.yml
# Note: Use different variable names to avoid conflicts with local tracker
# ----------------------------------------------------------------------------
# TRACKER_GITHUB_USERNAME=  # GitHub username for CI/CD tracker
# TRACKER_GITHUB_TOKEN=  # Separate token for CI/CD (different from local)

# ============================================================================
# SECURITY NOTES
# ============================================================================
# 1. NEVER commit .env file to Git (it's in .gitignore)
# 2. Use strong, unique tokens for each service
# 3. Rotate credentials regularly (every 90 days recommended)
# 4. Use least-privilege access (minimum required permissions)
# 5. For production: use GitHub Secrets, not .env files
# 6. Keep local-reports/ directory private (contains generated reports)
#
# For detailed security guidelines, see:
# - docs/github-secrets-setup.md
# - docs/activity-tracker.md
# ============================================================================

# ============================================================================
# QUICK START
# ============================================================================
# FOR COMMIT TRACKING ONLY (GitHub tracker):
# 1. Copy this file: cp .env.example .env
# 2. Fill in REQUIRED values:
#    - CLOCKIFY_API_KEY
#    - CLOCKIFY_WORKSPACE_ID
#    - CLOCKIFY_DEFAULT_PROJECT_ID (recommended)
#    - ENABLE_GITHUB_TRACKER=true
#    - COMMIT_TRACKER_MODE=user (or org)
#    - COMMIT_TRACKER_USERNAME (or COMMIT_TRACKER_ORG)
# 3. Run tracker: python tracker.py
#
# FOR REPORT GENERATION (Clockify + Azure DevOps):
# 1. Copy this file: cp .env.example .env
# 2. Fill in ALL REQUIRED values:
#    - CLOCKIFY_API_KEY
#    - CLOCKIFY_WORKSPACE_ID
#    - ADO_ORG
#    - ADO_PROJECT
#    - ADO_PAT
# 3. Validate configuration: python main.py validate
# 4. Generate your first report: python main.py run
#
# For help, see: README.md or run 'python main.py --help'
# ============================================================================
